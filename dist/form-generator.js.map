{"version":3,"sources":["webpack://FormGenerator/webpack/universalModuleDefinition","webpack://FormGenerator/./src/componets/FormGenerator.js","webpack://FormGenerator/./src/utils/utils.js","webpack://FormGenerator/webpack/bootstrap","webpack://FormGenerator/./src/index.js"],"names":["root","factory","exports","module","define","amd","self","i","props","options","type","Object","required","render","h","this","formItems","Array","isArray","formData","components","map","formItem","subItem","component","componentTypeFn","componentObj","obj","slot","itemProps","on","colProps","ref","model","formProps","class","input","vm","children","key","item","componentFn","style","text","generateButtonComponent","value","attrs","translateEvents","val","button","select","optionComponents","option","label","placeholder","nativeOn","event","events","result","bind","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","install","Vue","FormGenerator","API","version","window"],"mappings":"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","file":"form-generator.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FormGenerator\"] = factory();\n\telse\n\t\troot[\"FormGenerator\"] = factory();\n})(self, function() {\nreturn ","import componentObj from '../utils/utils'\n\nexport default {\n  props: {\n    options: {\n      type: Object,\n      required: true\n    }\n  },\n  render(h) {\n    const { options } = this\n    if (!options.formItems && !Array.isArray(options.formItems)) {\n      return h('div')\n    }\n    const { formItems, formData = {} } = options\n\n    const generateComponents = (formItems) => {\n      return formItems.map(formItem => {\n        const type = formItem.type\n        const componentTypeFn = componentObj[type]\n        const subItem = generateFormItemComponent(h, formItem, componentTypeFn(h, formData, formItem, this))\n        const colItem = generateColComponent(h, formItem, subItem)\n\n        return colItem\n      })\n      return []\n    }\n\n    const components = generateComponents(formItems)\n\n    return h(\n      'ElForm',\n      {\n        ref: 'form',\n        props: {\n          model: formData,\n          ...options.formProps\n        },\n        class: 'vue-generate-form'\n      },\n      components\n    )\n  }\n}\n\nfunction generateColComponent(h, obj, component) {\n  return h(\n    'ElCol',\n    {\n      props: {\n        'class-name': obj['class-name'] || obj['className'],\n        ...obj.colProps\n      }\n    },\n    [component]\n  )\n}\n\nfunction generateFormItemComponent(h, obj, component) {\n  return h(\n    'ElFormItem',\n    {\n      slot: obj.slot,\n      props: obj.itemProps,\n      on: obj.on\n    },\n    [component]\n  )\n}","const componentObj = {\n  input: generateInputComponent,\n  button: generateButtonComponent,\n  select: generateSelectComponent\n}\n\nfunction generateChildrenComponents(h, formData, children, vm) {\n  return children.map(item => {\n    const type = item.type\n    const componentFn = componentObj[type]\n    if (componentFn) {\n      return componentFn(h, formData, item, vm)\n    }\n\n    return h(type, {\n      class: item.class,\n      props: item.props || {},\n      slot: item.slot,\n      style: item.style,\n      on: item.on\n    }, item.text || (item.children && generateButtonComponent(item.children)))\n  })\n}\n\nfunction generateSelectComponent(h, formData = {}, obj, vm) {\n  const { options = [], key } = obj\n  const optionComponents = options.map(option => {\n    return h(\n      'ElOption',\n      {\n        props: {\n          label: option.label,\n          value: option.value,\n          key: option.value\n        }\n      },\n      optionComponents\n    )\n  })\n  return h(\n    'ElSelect',\n    {\n      props: {\n        value: formData[key] || '',\n        placeholder: '请选择'\n      },\n      attrs: obj.props,\n      slot: obj.slot,\n      style: obj.style,\n      on: {\n        ...translateEvents(obj.on, vm),\n        input(val) {\n          if (key) {\n            formData[key] = val\n          }\n        }\n      },\n      slot: obj.slot\n    },\n    optionComponents\n  )\n}\n\nfunction generateInputComponent(h, formData = {}, obj, vm) {\n  const { children = [], key } = obj\n  const components = generateChildrenComponents(h, formData, children, vm)\n\n  return h(\n    'ElInput',\n    {\n      class: obj.class || '',\n      props: {\n        value: key ? formData[key] : '',\n        ...obj.props\n      },\n      attrs: {\n        ...obj.props\n      },\n      style: obj.style,\n      on: {\n        ...translateEvents(obj.on, vm),\n        input(val) {\n          if (key) {\n            formData[key] = val\n          }\n        }\n      },\n      slot: obj.slot\n    },\n    components\n  )\n}\n\nfunction generateButtonComponent(h, formData = {}, obj, vm) {\n  return h(\n    'ElButton',\n    {\n      props: obj.props || {},\n      slot: obj.slot,\n      style: obj.style,\n      on: obj.on,\n      nativeOn: obj.nativeOn\n    },\n    [obj.text]\n  )\n}\n\nexport function translateEvents(events = {}, vm) {\n  const result = {}\n  for (let event in events) {\n    result[event] = events[event].bind(vm)\n  }\n\n  return result\n}\n\nexport default componentObj\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import FormGenerator from './componets/FormGenerator'\n\nconst install = function (Vue, opts = {}) {\n  Vue.component('FormGenerator', FormGenerator)\n}\n\nconst API = {\n  install,\n  version: '0.0.1'\n}\n\nif (typeof window !== 'undefined' && window.Vue) {\n  install(window.Vue)\n}\n\nexport default API"],"sourceRoot":""}